{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/js/modules/addOrder.js","webpack:///./src/js/modules/addSelect.js","webpack:///./src/js/modules/getTimeView.js","webpack:///./src/js/services/requests.js"],"names":["window","addEventListener","addSelect","addOrder","btnSend","document","querySelector","inputPrice","orders","querySelectorAll","forEach","select","value","push","length","data","date","Date","nowHour","getHours","getMinutes","getSeconds","join","getResource","then","res","addNew","obj","сontrol","a","Object","keys","key","console","log","forSend","JSON","stringify","postData","placeSelector","optionSelector","placeForOptions","selects","addNewClone","clone","cloneNode","appendChild","remove","getTimeView","ms","sec","Math","floor","min","hour","url","fetch","method","body","text","ok","Error","status","json","readTextFile","file","callback","rawFile","XMLHttpRequest","overrideMimeType","open","onreadystatechange","readyState","responseText","send"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import addSelect from \"./modules/addSelect\";\r\nimport addOrder from \"./modules/addOrder\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', ()=> {\r\n    addSelect('.type-orders', '.type-order');\r\n    addOrder();\r\n});","// import {postData} from \"../server/requests\";\r\nimport {postData, getResource, readTextFile} from '../services/requests';\r\nimport { getTimeView } from './getTimeView';\r\n\r\nconst addOrder = () => {\r\n    let btnSend = document.querySelector('.add-btn'),\r\n        inputPrice = document.querySelector('#price');\r\nbtnSend.addEventListener('click', function() {\r\n    let orders = [];\r\n    document.querySelectorAll('.type-order').forEach(select => {\r\n        if(select.value) {\r\n            orders.push(select.value);\r\n        }\r\n    });\r\n    if(inputPrice.value && orders.length >= 1) {\r\n        let data = {};\r\n        let date = new Date();\r\n        let nowHour = date.getHours();\r\n        data['time'] = `${date.getHours()} : ${date.getMinutes()} : ${date.getSeconds()}`;\r\n        data['price'] = inputPrice.value;\r\n        data['types'] = orders.join('/');\r\n        getResource('../../assets/server.json')\r\n        .then(res => {addNew(res, nowHour, data)});  \r\n    }\r\n    });\r\n    function addNew(obj, nowHour, data) {\r\n\r\n        function сontrol() {\r\n            let a;\r\n            Object.keys(obj).forEach((key)=> {\r\n                if(key == nowHour) {\r\n                    a = true;\r\n                }\r\n            });\r\n            return a;\r\n        };\r\n        if(сontrol()) {\r\n            console.log('this time is');\r\n            obj[nowHour].push(data);\r\n        } else {\r\n            console.log('this no');\r\n            obj[nowHour] = [data];\r\n        }\r\n        let forSend = JSON.stringify(obj);\r\n        console.log(forSend);\r\n        postData('../../assets/server.json', forSend)\r\n            .then(res => console.log(res));\r\n    };\r\n};\r\nexport default addOrder;\r\n","const addSelect = (placeSelector, optionSelector) => {\r\n    let placeForOptions = document.querySelector(placeSelector),\r\n    select = document.querySelector(optionSelector);\r\n    let selects = [select];\r\n    select.addEventListener('change', function() {\r\n        addNewClone();\r\n    });\r\n    function addNewClone() {\r\n        let clone = select.cloneNode(true);\r\n        placeForOptions.appendChild(clone);\r\n        selects.push(clone);\r\n        clone.addEventListener('change', function() {\r\n            if(this.value === \"delete\") {\r\n                this.remove();\r\n            } else {\r\n                addNewClone();\r\n            } \r\n        });\r\n    }\r\n\r\n};\r\n\r\nexport default addSelect;","const getTimeView = (ms) => {\r\n    let sec = Math.floor((ms/1000)%60);\r\n    let min = Math.floor((ms/60000)%60);\r\n    let hour = Math.floor((ms/3600000)%24);\r\n    console.log(`${hour}:${min}:${sec}`);\r\n};\r\n\r\nexport {getTimeView};","const postData = async (url, data) => {\r\n    let res = await fetch(url, {\r\n        method: \"POST\",\r\n        body: data\r\n    });\r\n\r\n    return await res.text();\r\n};\r\n\r\nconst getResource = async (url) => {\r\n    let res = await fetch(url);\r\n\r\n    if(!res.ok) {\r\n        throw new Error(`Could not fetch ${url}, status ${res.status}`);\r\n    }\r\n\r\n    return await res.json();\r\n};\r\n\r\nfunction readTextFile(file, callback) {\r\n    var rawFile = new XMLHttpRequest();\r\n    rawFile.overrideMimeType(\"application/json\");\r\n    rawFile.open(\"GET\", file, true);\r\n    rawFile.onreadystatechange = function() {\r\n        if (rawFile.readyState === 4 && rawFile.status == \"200\") {\r\n            callback(rawFile.responseText);\r\n        }\r\n    }\r\n    rawFile.send(null);\r\n}\r\n\r\nexport {postData, getResource, readTextFile};"],"sourceRoot":""}